{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Subham%20Bhattachrya/Desktop/EvalvAI-main/lib/gemini.ts"],"sourcesContent":["import { GoogleGenerativeAI } from '@google/generative-ai'\r\n\r\nconst apiKey = process.env.GEMINI_API_KEY\r\n\r\nif (!apiKey) {\r\n    console.error('‚ùå GEMINI_API_KEY is not defined in environment variables')\r\n    console.error('Please check your .env.local file')\r\n    throw new Error('GEMINI_API_KEY is not defined in environment variables')\r\n}\r\n\r\nconsole.log('‚úÖ Gemini API Key loaded:', apiKey.substring(0, 10) + '...')\r\n\r\nconst genAI = new GoogleGenerativeAI(apiKey)\r\n\r\nexport const geminiModel = genAI.getGenerativeModel({ model: 'gemini-2.5-flash' })\r\n\r\nexport async function generateContent(prompt: string) {\r\n    try {\r\n        console.log('ü§ñ Calling Gemini API...')\r\n        const result = await geminiModel.generateContent(prompt)\r\n        const response = await result.response\r\n        const text = response.text()\r\n        console.log('‚úÖ Gemini API response received')\r\n        return text\r\n    } catch (error: any) {\r\n        console.error('‚ùå Gemini API Error:', error)\r\n        console.error('Error details:', {\r\n            message: error.message,\r\n            status: error.status,\r\n            statusText: error.statusText\r\n        })\r\n\r\n        // Provide more specific error messages\r\n        if (error.message?.includes('API_KEY_INVALID')) {\r\n            throw new Error('Invalid Gemini API key. Please check your API key in .env.local')\r\n        }\r\n        if (error.message?.includes('QUOTA_EXCEEDED')) {\r\n            throw new Error('Gemini API quota exceeded. Please try again later or upgrade your plan')\r\n        }\r\n        if (error.message?.includes('RATE_LIMIT')) {\r\n            throw new Error('Rate limit exceeded. Please wait a moment and try again')\r\n        }\r\n\r\n        throw new Error(`Failed to generate content from Gemini API: ${error.message}`)\r\n    }\r\n}\r\n\r\nexport async function generateStreamContent(prompt: string) {\r\n    try {\r\n        const result = await geminiModel.generateContentStream(prompt)\r\n        return result.stream\r\n    } catch (error: any) {\r\n        console.error('‚ùå Gemini API Stream Error:', error)\r\n        throw new Error(`Failed to generate stream from Gemini API: ${error.message}`)\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,cAAc;AAEzC,IAAI,CAAC,QAAQ;IACT,QAAQ,KAAK,CAAC;IACd,QAAQ,KAAK,CAAC;IACd,MAAM,IAAI,MAAM;AACpB;AAEA,QAAQ,GAAG,CAAC,4BAA4B,OAAO,SAAS,CAAC,GAAG,MAAM;AAElE,MAAM,QAAQ,IAAI,oNAAkB,CAAC;AAE9B,MAAM,cAAc,MAAM,kBAAkB,CAAC;IAAE,OAAO;AAAmB;AAEzE,eAAe,gBAAgB,MAAc;IAChD,IAAI;QACA,QAAQ,GAAG,CAAC;QACZ,MAAM,SAAS,MAAM,YAAY,eAAe,CAAC;QACjD,MAAM,WAAW,MAAM,OAAO,QAAQ;QACtC,MAAM,OAAO,SAAS,IAAI;QAC1B,QAAQ,GAAG,CAAC;QACZ,OAAO;IACX,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,QAAQ,KAAK,CAAC,kBAAkB;YAC5B,SAAS,MAAM,OAAO;YACtB,QAAQ,MAAM,MAAM;YACpB,YAAY,MAAM,UAAU;QAChC;QAEA,uCAAuC;QACvC,IAAI,MAAM,OAAO,EAAE,SAAS,oBAAoB;YAC5C,MAAM,IAAI,MAAM;QACpB;QACA,IAAI,MAAM,OAAO,EAAE,SAAS,mBAAmB;YAC3C,MAAM,IAAI,MAAM;QACpB;QACA,IAAI,MAAM,OAAO,EAAE,SAAS,eAAe;YACvC,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,IAAI,MAAM,CAAC,4CAA4C,EAAE,MAAM,OAAO,EAAE;IAClF;AACJ;AAEO,eAAe,sBAAsB,MAAc;IACtD,IAAI;QACA,MAAM,SAAS,MAAM,YAAY,qBAAqB,CAAC;QACvD,OAAO,OAAO,MAAM;IACxB,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM,IAAI,MAAM,CAAC,2CAA2C,EAAE,MAAM,OAAO,EAAE;IACjF;AACJ"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Subham%20Bhattachrya/Desktop/EvalvAI-main/app/api/query-bot/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { generateContent } from '@/lib/gemini'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { query } = await request.json()\n\n    if (!query || query.trim() === '') {\n      return NextResponse.json(\n        { message: 'Query is required' },\n        { status: 400 }\n      )\n    }\n\n    const prompt = `You are an expert AI assistant specializing in interview preparation, placement guidance, and career advice for students and professionals.\n\nUser Question: ${query}\n\nProvide a comprehensive, helpful, and encouraging response that includes:\n- Clear and actionable advice\n- Relevant examples when applicable\n- Step-by-step guidance if needed\n- Tips and best practices\n- Encouragement and motivation\n\nKeep the response well-structured, professional, and easy to read. Use bullet points or numbered lists when appropriate.`\n\n    const response = await generateContent(prompt)\n\n    return NextResponse.json({\n      response: response,\n      timestamp: new Date().toISOString()\n    })\n  } catch (error: any) {\n    console.error('Query Bot Error:', error)\n    return NextResponse.json(\n      { message: error.message || 'Failed to process query' },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpC,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;YACjC,OAAO,8KAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;YAAoB,GAC/B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,CAAC;;eAEL,EAAE,MAAM;;;;;;;;;wHASiG,CAAC;QAErH,MAAM,WAAW,MAAM,IAAA,gKAAe,EAAC;QAEvC,OAAO,8KAAY,CAAC,IAAI,CAAC;YACvB,UAAU;YACV,WAAW,IAAI,OAAO,WAAW;QACnC;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,8KAAY,CAAC,IAAI,CACtB;YAAE,SAAS,MAAM,OAAO,IAAI;QAA0B,GACtD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}