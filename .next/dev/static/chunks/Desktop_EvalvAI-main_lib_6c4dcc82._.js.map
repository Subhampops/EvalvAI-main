{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Subham%20Bhattachrya/Desktop/EvalvAI-main/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app'\r\nimport { getAuth } from 'firebase/auth'\r\nimport { getAnalytics, isSupported } from 'firebase/analytics'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n}\r\n\r\n// Initialize Firebase only if it hasn't been initialized yet\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0]\r\nconst auth = getAuth(app)\r\n\r\n// Initialize Analytics only in browser environment\r\nlet analytics = null\r\nif (typeof window !== 'undefined') {\r\n    isSupported().then((supported) => {\r\n        if (supported) {\r\n            analytics = getAnalytics(app)\r\n        }\r\n    })\r\n}\r\n\r\nexport { app, auth, analytics }\r\n"],"names":[],"mappings":";;;;;;;;AAKY;AALZ;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACjB;AAEA,6DAA6D;AAC7D,MAAM,MAAM,IAAA,4MAAO,IAAG,MAAM,KAAK,IAAI,IAAA,kNAAa,EAAC,kBAAkB,IAAA,4MAAO,GAAE,CAAC,EAAE;AACjF,MAAM,OAAO,IAAA,sMAAO,EAAC;AAErB,mDAAmD;AACnD,IAAI,YAAY;AAChB,wCAAmC;IAC/B,IAAA,sNAAW,IAAG,IAAI,CAAC,CAAC;QAChB,IAAI,WAAW;YACX,YAAY,IAAA,uNAAY,EAAC;QAC7B;IACJ;AACJ"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Subham%20Bhattachrya/Desktop/EvalvAI-main/lib/auth-context.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react'\r\nimport {\r\n    User,\r\n    signInWithEmailAndPassword,\r\n    createUserWithEmailAndPassword,\r\n    signOut as firebaseSignOut,\r\n    onAuthStateChanged,\r\n    GoogleAuthProvider,\r\n    signInWithPopup,\r\n    signInAnonymously,\r\n    updateProfile,\r\n} from 'firebase/auth'\r\nimport { auth } from './firebase'\r\n\r\ninterface AuthContextType {\r\n    user: User | null\r\n    loading: boolean\r\n    signIn: (email: string, password: string) => Promise<void>\r\n    signUp: (email: string, password: string, name: string) => Promise<void>\r\n    signInWithGoogle: () => Promise<void>\r\n    signInAsGuest: () => Promise<void>\r\n    signOut: () => Promise<void>\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            setUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const signIn = async (email: string, password: string) => {\r\n        try {\r\n            await signInWithEmailAndPassword(auth, email, password)\r\n        } catch (error: any) {\r\n            throw new Error(getErrorMessage(error.code))\r\n        }\r\n    }\r\n\r\n    const signUp = async (email: string, password: string, name: string) => {\r\n        try {\r\n            const userCredential = await createUserWithEmailAndPassword(auth, email, password)\r\n            // Update user profile with display name\r\n            if (userCredential.user) {\r\n                await updateProfile(userCredential.user, {\r\n                    displayName: name,\r\n                })\r\n            }\r\n        } catch (error: any) {\r\n            throw new Error(getErrorMessage(error.code))\r\n        }\r\n    }\r\n\r\n    const signInWithGoogle = async () => {\r\n        try {\r\n            const provider = new GoogleAuthProvider()\r\n            await signInWithPopup(auth, provider)\r\n        } catch (error: any) {\r\n            throw new Error(getErrorMessage(error.code))\r\n        }\r\n    }\r\n\r\n    const signInAsGuest = async () => {\r\n        try {\r\n            await signInAnonymously(auth)\r\n        } catch (error: any) {\r\n            throw new Error(getErrorMessage(error.code))\r\n        }\r\n    }\r\n\r\n    const signOut = async () => {\r\n        try {\r\n            await firebaseSignOut(auth)\r\n        } catch (error: any) {\r\n            throw new Error('Failed to sign out')\r\n        }\r\n    }\r\n\r\n    const value = {\r\n        user,\r\n        loading,\r\n        signIn,\r\n        signUp,\r\n        signInWithGoogle,\r\n        signInAsGuest,\r\n        signOut,\r\n    }\r\n\r\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext)\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider')\r\n    }\r\n    return context\r\n}\r\n\r\n// Helper function to convert Firebase error codes to user-friendly messages\r\nfunction getErrorMessage(errorCode: string): string {\r\n    switch (errorCode) {\r\n        case 'auth/email-already-in-use':\r\n            return 'This email is already registered'\r\n        case 'auth/invalid-email':\r\n            return 'Invalid email address'\r\n        case 'auth/operation-not-allowed':\r\n            return 'Operation not allowed'\r\n        case 'auth/weak-password':\r\n            return 'Password should be at least 6 characters'\r\n        case 'auth/user-disabled':\r\n            return 'This account has been disabled'\r\n        case 'auth/user-not-found':\r\n            return 'No account found with this email'\r\n        case 'auth/wrong-password':\r\n            return 'Incorrect password'\r\n        case 'auth/invalid-credential':\r\n            return 'Invalid email or password'\r\n        case 'auth/too-many-requests':\r\n            return 'Too many failed attempts. Please try again later'\r\n        case 'auth/network-request-failed':\r\n            return 'Network error. Please check your connection'\r\n        case 'auth/popup-closed-by-user':\r\n            return 'Sign-in popup was closed'\r\n        case 'auth/cancelled-popup-request':\r\n            return 'Sign-in was cancelled'\r\n        default:\r\n            return 'An error occurred. Please try again'\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAWA;;;AAdA;;;;AA0BA,MAAM,4BAAc,IAAA,4MAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,uMAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uMAAQ,EAAC;IAEvC,IAAA,wMAAS;kCAAC;YACN,MAAM,cAAc,IAAA,iNAAkB,EAAC,wJAAI;sDAAE,CAAC;oBAC1C,QAAQ;oBACR,WAAW;gBACf;;YAEA,OAAO;QACX;iCAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACjC,IAAI;YACA,MAAM,IAAA,yNAA0B,EAAC,wJAAI,EAAE,OAAO;QAClD,EAAE,OAAO,OAAY;YACjB,MAAM,IAAI,MAAM,gBAAgB,MAAM,IAAI;QAC9C;IACJ;IAEA,MAAM,SAAS,OAAO,OAAe,UAAkB;QACnD,IAAI;YACA,MAAM,iBAAiB,MAAM,IAAA,6NAA8B,EAAC,wJAAI,EAAE,OAAO;YACzE,wCAAwC;YACxC,IAAI,eAAe,IAAI,EAAE;gBACrB,MAAM,IAAA,4MAAa,EAAC,eAAe,IAAI,EAAE;oBACrC,aAAa;gBACjB;YACJ;QACJ,EAAE,OAAO,OAAY;YACjB,MAAM,IAAI,MAAM,gBAAgB,MAAM,IAAI;QAC9C;IACJ;IAEA,MAAM,mBAAmB;QACrB,IAAI;YACA,MAAM,WAAW,IAAI,iNAAkB;YACvC,MAAM,IAAA,8MAAe,EAAC,wJAAI,EAAE;QAChC,EAAE,OAAO,OAAY;YACjB,MAAM,IAAI,MAAM,gBAAgB,MAAM,IAAI;QAC9C;IACJ;IAEA,MAAM,gBAAgB;QAClB,IAAI;YACA,MAAM,IAAA,gNAAiB,EAAC,wJAAI;QAChC,EAAE,OAAO,OAAY;YACjB,MAAM,IAAI,MAAM,gBAAgB,MAAM,IAAI;QAC9C;IACJ;IAEA,MAAM,UAAU;QACZ,IAAI;YACA,MAAM,IAAA,sMAAe,EAAC,wJAAI;QAC9B,EAAE,OAAO,OAAY;YACjB,MAAM,IAAI,MAAM;QACpB;IACJ;IAEA,MAAM,QAAQ;QACV;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;IAEA,qBAAO,2NAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAChD;GAvEgB;KAAA;AAyET,SAAS;;IACZ,MAAM,UAAU,IAAA,yMAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANgB;AAQhB,4EAA4E;AAC5E,SAAS,gBAAgB,SAAiB;IACtC,OAAQ;QACJ,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX;YACI,OAAO;IACf;AACJ"}}]
}